"use client"
import { useState, useEffect } from 'react';
import { Box, Flex, Button, Text } from "@chakra-ui/react";
import NaverMap from "./navermap";
import Modal, { useModal } from '../../components/theater/modal';

// fetch ì´ì „ ì„ì‹œ ë°ì´í„°ë“¤
const regions = ["ì„œìš¸", "ê²½ê¸°/ì¸ì²œ", "ì¶©ì²­/ëŒ€ì „", "ì „ë¼/ê´‘ì£¼", "ê²½ë‚¨/ë¶€ì‚°", "ê°•ì›", "ì œì£¼"];
const theaters = [
    { region: "ì„œìš¸", name: "CGV ê°•ë‚¨", address: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ 438 ìŠ¤íƒ€í”Œë ‰ìŠ¤ 4ì¸µ~8ì¸µ", subway: "2í˜¸ì„  ê°•ë‚¨ì—­ 11ë²ˆ ì¶œêµ¬ ë„ë³´ 5ë¶„\n9í˜¸ì„  ì‹ ë…¼í˜„ì—­ 5ë²ˆ ì¶œêµ¬ ë„ë³´ 5ë¶„\nì‹ ë¶„ë‹¹ì„  ì‹ ë…¼í˜„ì—­ 6ë²ˆ ì¶œêµ¬ ë„ë³´ 3ë¶„", bus: "- ê°„ì„ ë²„ìŠ¤ : 140, 144, 145, 146, 360, 400, 402, 420, 421, 440, 441, 452, 470, 640, 643, 741\n  ì‹¬ì•¼) N13, N31, N37, N75\n- ì§€ì„ ë²„ìŠ¤ : 3412, 4312, 8146, 8541\n- ê´‘ì—­ë²„ìŠ¤ : 1005, 1100, 1101, 1151, 1241, 1311, 1311B, 1550, 1550-1, 1551, 1551B, 1552, 1560, 1570, 1700, 2000, 2000-1, 3008, 3030, 3100, 3401, 3600, 4403, 5001, 5001-1, 5002A, 5002B, 5003A, 5003B,5006, 5100, 5200, 5300, 6001, 6002, 6002-1, 6004, 6427, 6600, 7007, 8001, 8502, 9004, 9202, 9303, 9400, 9404, 9408, 9409, 9500, 9501, 9600, 9700, 9711, 9800, 9802, G5100,G7426, M4403, M4434, M4448, M4449, M5422, M5438, M6427, M7412, P9201, ì´ìŒ2\n  ì‹¬ì•¼) 1101N, 3100N\n- ë§ˆì„ë²„ìŠ¤ : ì„œì´ˆ03\n- ê³µí•­ë²„ìŠ¤ : 6009", parkGuide: "- ìŠ¤íƒ€í”Œë ‰ìŠ¤ ê±´ë¬¼ ì§€í•˜2ì¸µ~4ì¸µ\n- ë°œë ›ì„œë¹„ìŠ¤ ìš´ì˜ì‹œê°„\n : ì˜¤ì „ 8ì‹œ ì´í›„ ~ ì˜¤í›„ 20ì‹œ\n : ë°œë › ë¬´ë£Œ ì„œë¹„ìŠ¤ëŠ”  ì˜í™” ê´€ëŒ ê³ ê° í•œ í•¨ (ì˜í™” ë¯¸ê´€ëŒ ì‹œ ê±´ë¬¼ ì£¼ì°¨ì¥ì—ì„œ ë³„ë„ ì •ì‚°)\n   (20ì‹œ ì´í›„ ì…ì°¨ ì°¨ëŸ‰ì€ ë°œë ›ì„œë¹„ìŠ¤ ì´ìš©ì´ ì œí•œë  ìˆ˜ ìˆìœ¼ë©°, ë³„ë„ ìš´ì˜ë˜ëŠ” ì£¼ì°¨íŒ€ì˜ ì‚¬ì •ì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)", parkCheck: "- ì¶œì°¨ ì‹œ ì˜í™”í‹°ì¼“ ì œì‹œ\n  (ëª¨ë°”ì¼/ì§€ë¥˜ ëª¨ë‘ê°€ëŠ¥)", parkFee: "- ì˜í™” ê´€ëŒ ì‹œ 3ì‹œê°„ 5,000ì›\n- ì£¼ì°¨ì‹œê°„(3ì‹œê°„) ì´ˆê³¼ ì‹œ 10ë¶„ ë‹¹ 1,000ì›" },
    { region: "ì„œìš¸", name: "ë¡¯ë°ì‹œë„¤ë§ˆ ì›”ë“œíƒ€ì›Œ", address: "ì„œìš¸íŠ¹ë³„ì‹œ ì†¡íŒŒêµ¬ ì˜¬ë¦¼í”½ë¡œ 300 ë¡¯ë°ì›”ë“œíƒ€ì›Œ 5ì¸µ~11ì¸µ", subway: "[8í˜¸ì„  ì ì‹¤ì—­]\n8í˜¸ì„  ê°œì°°êµ¬ í†µê³¼ í›„ ì§€í•˜ 1ì¸µ ëŒ€í•©ì‹¤ ì´ë™(10ë²ˆ, 11ë²ˆ ì¶œêµ¬ ë°©ë©´) > ìš°ì¸¡ 10M ì• ì‡¼í•‘ëª° ê²Œì´íŠ¸ í†µê³¼(10ë²ˆ 11ë²ˆ ì¶œêµ¬ ì‚¬ì´ í†µë¡œ) > ì•„ì¿ ì•„ë¦¬ì›€ ì¶œêµ¬ ì˜† ì—˜ë¦¬ë² ì´í„° ì´ìš©\n[2í˜¸ì„  ì ì‹¤ì—­]\n<ë¡¯ë°ëª° ì˜ì—…ì‹œê°„ ë‚´> 2í˜¸ì„  ì¶œêµ¬ ì¤‘ì•™ ì ì‹¤ê´‘ì—­ë²„ìŠ¤ í™˜ìŠ¹ì„¼í„° ë°©ë©´ > ì¢Œì¸¡ ì‡¼í•‘ëª° ê²Œì´íŠ¸(ì‚¼ì†¡ë¹µì§‘ ì˜†)í†µê³¼ í›„ ìš°ì¸¡ ë°©ë©´ > ì¼€ì´ìŠ¤í‹°íŒŒì´(CASETiFY)ìƒµ / ì „ë§ëŒ€ ì…êµ¬ ì‚¬ì´ 300M ì§ì§„ > ì•„ì¿ ì•„ë¦¬ì›€ ì¶œêµ¬ ì˜† ì—˜ë¦¬ë² ì´í„° ì´ìš©\n<ë¡¯ë°ëª° ì˜ì—…ì‹œê°„ ì™¸> 1ì¸µ ì§€ìƒìœ¼ë¡œ ì´ë™(1ë²ˆ ì¶œêµ¬) > ì•½ 300m ì§ì§„ > ì†¡íŒŒêµ¬ì²­(8í˜¸ì„  11,12ë²ˆ ì¶œêµ¬) ë°©ë©´ ì—”ì œë¦¬ë„ˆìŠ¤ ì˜† ì‡¼í•‘ëª° ê²Œì´íŠ¸ í†µê³¼ > ìë¼(ZARA)/ìœ ë‹ˆí´ë¡œ ì‚¬ì´ ì—˜ë¦¬ë² ì´í„° ì´ìš©", bus: "[ì§€ì„ ë²„ìŠ¤]\nì ì‹¤ì—­1ë²ˆ,11ë²ˆì¶œêµ¬ ì •ë¥˜ì¥ í•˜ì°¨(ì •ë¥˜ì¥ë²ˆí˜¸ 24134) > ì†¡íŒŒêµ¬ì²­(8í˜¸ì„  11,12ë²ˆ ì¶œêµ¬) ë°©ë©´ ì—”ì œë¦¬ë„ˆìŠ¤ ì˜† ì‡¼í•‘ëª° ê²Œì´íŠ¸ ì´ìš© > íˆ¬ëª… ì—˜ë¦¬ë² ì´í„° ë˜ëŠ” ìë¼(ZARA)/ìœ ë‹ˆí´ë¡œ ì‚¬ì´ ì—˜ë¦¬ë² ì´í„° ì´ìš©\n[ê´‘ì—­ë²„ìŠ¤]\n<ë¡¯ë°ëª° ì˜ì—…ì‹œê°„ ë‚´> ì ì‹¤ê´‘ì—­í™˜ìŠ¹ì„¼í„°(ì§€í•˜) í•˜ì°¨(ì •ë¥˜ì¥ë²ˆí˜¸ 24050) > 2í˜¸ì„  ì¶œêµ¬ ì¤‘ì•™ ì ì‹¤ê´‘ì—­ë²„ìŠ¤ í™˜ìŠ¹ì„¼í„° ë°©ë©´ > ì¢Œì¸¡ ì‡¼í•‘ëª° ê²Œì´íŠ¸(ì‚¼ì†¡ë¹µì§‘ ì˜†)í†µê³¼ í›„ ìš°ì¸¡ ë°©ë©´ > ì¼€ì´ìŠ¤í‹°íŒŒì´(CASETiFY)ìƒµ / ì „ë§ëŒ€ ì…êµ¬ ì‚¬ì´ 300M ì§ì§„ > ì•„ì¿ ì•„ë¦¬ì›€ ì¶œêµ¬ ì˜† ì—˜ë¦¬ë² ì´í„° ì´ìš©\n<ë¡¯ë°ëª° ì˜ì—…ì‹œê°„ ì™¸> 1ì¸µ ì§€ìƒìœ¼ë¡œ ì´ë™(ì ì‹¤ì—­ 1ë²ˆ ì¶œêµ¬) > ì•½ 300m ì§ì§„ > ì†¡íŒŒêµ¬ì²­(8í˜¸ì„  11,12ë²ˆ ì¶œêµ¬) ë°©ë©´ ì—”ì œë¦¬ë„ˆìŠ¤ ì˜† ì‡¼í•‘ëª° ê²Œì´íŠ¸ í†µê³¼ > ìë¼(ZARA)/ìœ ë‹ˆí´ë¡œ ì‚¬ì´ ì—˜ë¦¬ë² ì´í„° ì´ìš©", parkGuide: "ë¡¯ë°ì›”ë“œ ëª°/íƒ€ì›Œ ì£¼ì°¨ì¥ ì…êµ¬ë¡œ ì´ë™ (ëª¨ë“  ì£¼ì°¨ì¥ ì…êµ¬ ì˜í™”ê´€ ì£¼ì°¨ì¥ ì—°ê²° ê°€ëŠ¥)\nB2 ~ B6ì¸µ ê¸°ë‘¥ ì•ŒíŒŒë²³ S ~ W êµ¬ì—­ ì¸ê·¼ ì£¼ì°¨\nê¸°ë‘¥ ì•ŒíŒŒë²³ V/W ì–‘ìª½ ì…êµ¬ ë‚´ë¶€ ì—˜ë¦¬ë² ì´í„° ì´ìš©í•˜ì—¬ 5~10ì¸µ ì´ë™", parkCheck: null, parkFee: "ì˜í™” ê´€ëŒ í›„ í• ì¸ ì ìš© ì‹œ 10ë¶„ë‹¹ 200ì›(ìµœëŒ€ 4ì‹œê°„ 4,800ì›)\nì‹¬ì•¼ í• ì¸ ì ìš©\n ì˜¤í›„ 10ì‹œ ~ ì˜¤ì „ 6ì‹œ 10ë¶„ë‹¹ 100ì› (ìµœëŒ€ 4ì‹œê°„ 2,400ì›)\nëª¨ë°”ì¼/ì•± ì˜ˆë§¤ ì‹œ ìš°ì¸¡ ìƒë‹¨ â€˜ì£¼ì°¨ê¶Œâ€™ ë²„íŠ¼ í´ë¦­\nì£¼ì°¨ ì •ì‚°ì€ ì§€í•˜ ì£¼ì°¨ì¥ ì¸µë³„ ì£¼ì°¨ ì •ì‚°ê¸° ì´ìš©\në¡¯ë°ì›”ë“œëª° ì£¼ì°¨ ìš”ê¸ˆ\n ìš´ì˜ ì‹œê°„ì— ë”°ë¼ ìš”ê¸ˆ ìƒì´ (10ë¶„ë‹¹ 300ì› ~ 500ì›)" },
    { region: "ì„œìš¸", name: "ë©”ê°€ë°•ìŠ¤ ì½”ì—‘ìŠ¤", address: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ë´‰ì€ì‚¬ë¡œ524, (ì‚¼ì„±ë™) ì½”ì—‘ìŠ¤ëª° ì§€í•˜2ì¸µ", subway: "ì§€í•˜ì²  2í˜¸ì„  â€˜ì‚¼ì„±ì—­â€™í•˜ì°¨ â†’ ì§€í•˜ì²  5,6ë²ˆ ì¶œêµ¬ ì´ìš©\nì§€í•˜ì²  9í˜¸ì„  'ë´‰ì€ì‚¬ì—­'í•˜ì°¨ â†’ ì§€í•˜ì²  7ë²ˆ ì¶œêµ¬ ì´ìš©", bus: "143ë²ˆ, 146ë²ˆ, 301ë²ˆ, 333ë²ˆ, 341ë²ˆ, 342ë²ˆ, 345ë²ˆ, 350ë²ˆ, 401ë²ˆ, 740ë²ˆ\n2413ë²ˆ, 2415ë²ˆ, 3217ë²ˆ, 3411ë²ˆ, 3412ë²ˆ, 3414ë²ˆ, 3417ë²ˆ, 3425ë²ˆ, 4318ë²ˆ, 4419ë²ˆ\n500-2ë²ˆ, 1100ë²ˆ, 1700ë²ˆ, 2000ë²ˆ, 7007ë²ˆ, 8001ë²ˆ, 9407ë²ˆ, 9414ë²ˆ, 9507ë²ˆ, 9607ë²ˆ\nê°•ë‚¨01ë²ˆ, ê°•ë‚¨06ë²ˆ, ê°•ë‚¨07ë²ˆ, ê°•ë‚¨08ë²ˆ, N13(ì‹¬ì•¼), N61(ì‹¬ì•¼)", parkGuide: "ì½”ì—‘ìŠ¤ëª° ì£¼ì°¨ì¥ ì´ìš©", parkCheck: "ì¢…ì´í‹°ì¼“: B2 ë§¤í‘œì†Œì—ì„œ í‹°ì¼“ ì œì‹œ í›„ ì ìš©\nëª¨ë°”ì¼í‹°ì¼“: ê´€ëŒ í›„ ì˜ˆë§¤ë‚´ì—­ í•˜ë‹¨ \"ì°¨ëŸ‰ë“±ë¡\" í´ë¦­ í›„ í• ì¸ ì ìš©\nì¶œì°¨ ì‹œ ì •ì‚°", parkFee: "22ì‹œ ì´ì „ ì¶œì°¨: 4ì‹œê°„ 4,800ì›\n22ì‹œ ì´í›„ ì¶œì°¨: 4ì‹œê°„ 2,400ì›\n22ì‹œ ì´í›„ ì…ì°¨ ì°¨ëŸ‰ì€ 4ì‹œê°„ ë¬´ë£Œ\nì£¼ì°¨ ìš”ê¸ˆì€ ì…ì°¨ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ì •ì‚°\në¯¸ ì¸ì¦ì‹œ ì‹œê°„ë‹¹ 6,000ì›, ì´ˆê³¼ 15ë¶„ë‹¹ 1,500ì› ë¶€ê³¼\nê°€ì¥ ê°€ê¹Œìš´ ì£¼ì°¨êµ¬ì—­: ë¸”ë£¨ì¡´\nì£¼ì°¨ì¥ì´ í˜¼ì¡í•  ìˆ˜ ìˆìœ¼ë‹ˆ, ê°€ê¸‰ì ì´ë©´ ëŒ€ì¤‘êµí†µì„ ì´ìš© ë°”ëë‹ˆë‹¤. (9í˜¸ì„  ë´‰ì€ì‚¬ì—­ 7ë²ˆ ì¶œêµ¬)" },
    { region: "ì„œìš¸", name: "ëŒ€í•œê·¹ì¥", address: "ì„œìš¸íŠ¹ë³„ì‹œ ì¤‘êµ¬ í‡´ê³„ë¡œ 212" },
    { region: "ì„œìš¸", name: "CGV ìš©ì‚°ì•„ì´íŒŒí¬ëª°", address: "ì„œìš¸íŠ¹ë³„ì‹œ ìš©ì‚°êµ¬ í•œê°•ëŒ€ë¡œ23ê¸¸ 55 ì•„ì´íŒŒí¬ëª° 6ì¸µ", subway: "1í˜¸ì„  | ìš©ì‚°ì—­ì—ì„œ ì—°ê²°\n4í˜¸ì„  | ì‹ ìš©ì‚°ì—­ 4ë²ˆ ì¶œêµ¬(ë„ë³´ 5ë¶„)", bus: "ìš©ì‚°ì—­ ë˜ëŠ” ì‹ ìš©ì‚°ì—­ ì•ì—ì„œ í•˜ì°¨ í›„ ì´ë™\n[ê³µí•­] 6050, 6001\n[ìˆœí™˜] 90Síˆ¬ì–´\n[ì§€ì„ ] 0017, 0018, 5012, 2016, 7016, 1711\n[ê°„ì„ ] 502, 100, 150, 151, 152, 500, 752, 506, 507, 750A\n[ë§ˆì„] ìš©ì‚°03, ìš©ì‚°04", parkGuide: "- ìš©ì‚°ì•„ì´íŒŒí¬ëª° ë‹¬/í•´ì£¼ì°¨ì¥ 4ì¸µ~5.5ì¸µ ì£¼ì°¨ (Mall ë‚´ 6ì¸µ)\nâ€» Mall ì˜ì—…ì‹œê°„ ì™¸(ì¡°ì¡°/ì‹¬ì•¼)\n- ë‹¬/í•´ì£¼ì°¨ì¥ : 4ì¸µ~5.5ì¸µ ì£¼ì°¨ í›„ 4ì¸µ ì£¼ì°¨ì¥ìœ¼ë¡œ ì´ë™ í›„ Mall ë‚´ë¶€ ì§„ì…(4ì¸µ íŒ¨ì…˜íŒŒí¬ GATE ì§„ì…â†’6ì¸µ CGV ì´ë™)\nâ€» íœ ì²´ì–´ ì´ìš©ê³ ê°\n- ë‹¬ì£¼ì°¨ì¥ : 4ì¸µ~5.5ì¸µ E/Vì´ìš© (4,5ì¸µ 9,10ë²ˆ ë§ì€í¸, 4.5ì¸µ 6,7ë²ˆ ë§ì€í¸, 5.5ì¸µ 17~19ë²ˆ ë§ì€í¸ E/V)\n- í•´ì£¼ì°¨ì¥ : 4ì¸µ~4.5ì¸µ ë§¤ì¥ì…êµ¬ ì§„ì… í›„ E/Vì´ìš© (Mall ì˜ì—…ì‹œê°„ ì™¸ì—ëŠ” 4ì¸µ ì£¼ì°¨ì¥ìœ¼ë¡œ ì´ë™ í›„ Mall ë‚´ë¶€ë¡œ ì´ë™)\n- ì£¼ë§ ì£¼ì°¨ ê³µê°„ í˜‘ì†Œë¡œ ëŒ€ì¤‘êµí†µ ì´ìš© ê¶Œì¥", parkCheck: "- 6,7ì¸µ í‹°ì¼“íŒë§¤ê¸°/CGV APPì—ì„œ ë‹¹ì¼ ê´€ëŒ í›„ ì£¼ì°¨ ì¸ì¦", parkFee: "- í‹°ì¼“íŒë§¤ê¸°/APPì—ì„œ ë‹¹ì¼ ê´€ëŒí›„ í‹°ì¼“ ì¸ì¦ì‹œ 3ì‹œê°„ ë¬´ë£Œ (â€»2í¸ ì´ìƒ ê´€ëŒ ì‹œì—ë„ ìµœëŒ€ 3ì‹œê°„ ë¬´ë£Œ)\n- ë¬´ë£Œì£¼ì°¨ ì‹œê°„ ì´í›„ 10ë¶„ ì´ˆê³¼ ì‹œ 1,300ì› ë¶€ê³¼(1ì‹œê°„ 7,800ì›)\n- ì‹¬ì•¼ì˜í™” ê´€ëŒ ì‹œ 30ì‹œ ì´ì „ê¹Œì§€ ê´€ëŒì¼ ì£¼ì°¨ ì¸ì¦ ê°€ëŠ¥ (30ì‹œ ì´í›„ ì§ì›ë¬¸ì˜)" },
    { region: "ê²½ê¸°/ì¸ì²œ", name: "CGV íŒêµ", address: "ê²½ê¸°ë„ ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ íŒêµì—­ë¡œ 146ë²ˆê¸¸ 20 ì•ŒíŒŒë¦¬ì›€íƒ€ì›Œ 6ì¸µ" },
    { region: "ê²½ê¸°/ì¸ì²œ", name: "ë¡¯ë°ì‹œë„¤ë§ˆ ìˆ˜ì›", address: "ê²½ê¸°ë„ ìˆ˜ì›ì‹œ ê¶Œì„ êµ¬ ì„¸í™”ë¡œ 134 ë¡¯ë°ëª° ìˆ˜ì›ì  4ì¸µ" },
    { region: "ê²½ê¸°/ì¸ì²œ", name: "ë©”ê°€ë°•ìŠ¤ ì†¡ë„", address: "ì¸ì²œê´‘ì—­ì‹œ ì—°ìˆ˜êµ¬ ì†¡ë„êµ­ì œëŒ€ë¡œ 123 ì†¡ë„ íŠ¸ë¦¬í”ŒìŠ¤íŠ¸ë¦¬íŠ¸ Dë™" },
    { region: "ê²½ê¸°/ì¸ì²œ", name: "CGV ì¸ì²œí„°ë¯¸ë„", address: "ì¸ì²œê´‘ì—­ì‹œ ë¯¸ì¶”í™€êµ¬ ì—°ë‚¨ë¡œ 35 ë‰´ì½”ì•„ì•„ìš¸ë › 6ì¸µ" },
    { region: "ê²½ê¸°/ì¸ì²œ", name: "ë©”ê°€ë°•ìŠ¤ í‚¨í…ìŠ¤", address: "ê²½ê¸°ë„ ê³ ì–‘ì‹œ ì¼ì‚°ì„œêµ¬ ëŒ€í™”ë™ 2600 KINTEX ì œ2ì „ì‹œì¥" },
    { region: "ì¶©ì²­/ëŒ€ì „", name: "CGV ëŒ€ì „í„°ë¯¸ë„", address: "ëŒ€ì „ê´‘ì—­ì‹œ ë™êµ¬ ë™ì„œëŒ€ë¡œ 1689 ëŒ€ì „ë³µí•©í„°ë¯¸ë„ 4ì¸µ" },
    { region: "ì¶©ì²­/ëŒ€ì „", name: "ë¡¯ë°ì‹œë„¤ë§ˆ ëŒ€ì „ì„¼íŠ¸ëŸ´", address: "ëŒ€ì „ê´‘ì—­ì‹œ ì¤‘êµ¬ ì¤‘ì•™ë¡œ 123 ë¡¯ë°ë°±í™”ì  9ì¸µ" },
    { region: "ì¶©ì²­/ëŒ€ì „", name: "ë©”ê°€ë°•ìŠ¤ ëŒ€ì „ì¤‘ì•™ë¡œ", address: "ëŒ€ì „ê´‘ì—­ì‹œ ì¤‘êµ¬ ì¤‘ì•™ë¡œ 119" },
    { region: "ì¶©ì²­/ëŒ€ì „", name: "CGV ì²­ì£¼ì§€ì›°ì‹œí‹°", address: "ì¶©ì²­ë¶ë„ ì²­ì£¼ì‹œ í¥ë•êµ¬ ëŒ€ë†ë¡œ 47 ì§€ì›°ì‹œí‹°ëª° 5ì¸µ" },
    { region: "ì „ë¼/ê´‘ì£¼", name: "CGV ê´‘ì£¼í„°ë¯¸ë„", address: "ê´‘ì£¼ê´‘ì—­ì‹œ ì„œêµ¬ ë¬´ì§„ëŒ€ë¡œ 904 ê´‘ì£¼ì¢…í•©ë²„ìŠ¤í„°ë¯¸ë„ U-Square 6ì¸µ" },
    { region: "ì „ë¼/ê´‘ì£¼", name: "ë¡¯ë°ì‹œë„¤ë§ˆ ê´‘ì£¼ê´‘ì‚°", address: "ê´‘ì£¼ê´‘ì—­ì‹œ ê´‘ì‚°êµ¬ ì¥ì‹ ë¡œ 98 ë¡¯ë°ì•„ìš¸ë › ê´‘ì£¼ìˆ˜ì™„ì  4ì¸µ" },
    { region: "ì „ë¼/ê´‘ì£¼", name: "ë©”ê°€ë°•ìŠ¤ ì „ì£¼ê°ì‚¬", address: "ì „ë¼ë¶ë„ ì „ì£¼ì‹œ ì™„ì‚°êµ¬ ì „ì£¼ê°ì‚¬3ê¸¸ 22" },
    { region: "ì „ë¼/ê´‘ì£¼", name: "CGV ê´‘ì£¼ìƒë¬´", address: "ê´‘ì£¼ê´‘ì—­ì‹œ ì„œêµ¬ ì¹˜í‰ë¡œ 20 ìƒë¬´ì§€êµ¬ ì´ë…¸ë¹„ì¦ˆì„¼í„°" },
    { region: "ê²½ë‚¨/ë¶€ì‚°", name: "CGV ì„¼í…€ì‹œí‹°", address: "ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ì„¼í…€ë‚¨ëŒ€ë¡œ 35 ì‹ ì„¸ê³„ ì„¼í…€ì‹œí‹°ëª° 4ì¸µ" },
    { region: "ê²½ë‚¨/ë¶€ì‚°", name: "ë¡¯ë°ì‹œë„¤ë§ˆ ë¶€ì‚°ë³¸ì ", address: "ë¶€ì‚°ê´‘ì—­ì‹œ ë¶€ì‚°ì§„êµ¬ ê°€ì•¼ëŒ€ë¡œ 772 ë¡¯ë°ë°±í™”ì  ë¶€ì‚°ë³¸ì  10ì¸µ" },
    { region: "ê²½ë‚¨/ë¶€ì‚°", name: "ë©”ê°€ë°•ìŠ¤ í•´ìš´ëŒ€(ì¥ì‚°)", address: "ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ í•´ìš´ëŒ€ë¡œ 813 ë°˜ë„ë³´ë¼ë¹Œë”©" },
    { region: "ê²½ë‚¨/ë¶€ì‚°", name: "CGV ì„œë©´", address: "ë¶€ì‚°ê´‘ì—­ì‹œ ë¶€ì‚°ì§„êµ¬ ë™ì²œë¡œ 62" },
    { region: "ê²½ë‚¨/ë¶€ì‚°", name: "ì˜í™”ì˜ì „ë‹¹", address: "ë¶€ì‚°ê´‘ì—­ì‹œ í•´ìš´ëŒ€êµ¬ ìˆ˜ì˜ê°•ë³€ëŒ€ë¡œ 120 ì˜í™”ì˜ì „ë‹¹" },
    { region: "ê°•ì›", name: "CGV ì¶˜ì²œ", address: "ê°•ì›íŠ¹ë³„ìì¹˜ë„ ì¶˜ì²œì‹œ ì¶˜ì²œë¡œ 15 ëª…ë™ CGV" },
    { region: "ê°•ì›", name: "ë¡¯ë°ì‹œë„¤ë§ˆ ì›ì£¼ë¬´ì‹¤", address: "ê°•ì›íŠ¹ë³„ìì¹˜ë„ ì›ì£¼ì‹œ ëŠ¥ë¼ë™ê¸¸ 73 ë¡¯ë°ì‹œë„¤ë§ˆ" },
    { region: "ê°•ì›", name: "ë©”ê°€ë°•ìŠ¤ ê°•ë¦‰", address: "ê°•ì›íŠ¹ë³„ìì¹˜ë„ ê°•ë¦‰ì‹œ ê²½ê°•ë¡œ 2101" },
    { region: "ì œì£¼", name: "CGV ì œì£¼", address: "ì œì£¼íŠ¹ë³„ìì¹˜ë„ ì œì£¼ì‹œ ë…¸ì—°ë¡œ 80" },
    { region: "ì œì£¼", name: "ë¡¯ë°ì‹œë„¤ë§ˆ ì œì£¼ì•„ë¼", address: "ì œì£¼íŠ¹ë³„ìì¹˜ë„ ì œì£¼ì‹œ ì•„ë€13ê¸¸ 15" },
    { region: "ì œì£¼", name: "ë©”ê°€ë°•ìŠ¤ ì œì£¼ì‚¼í™”", address: "ì œì£¼íŠ¹ë³„ìì¹˜ë„ ì œì£¼ì‹œ ì‚¼ë´‰ë¡œ 11" },
    { region: "ì œì£¼", name: "CGV ì œì£¼ë…¸í˜•", address: "ì œì£¼íŠ¹ë³„ìì¹˜ë„ ì œì£¼ì‹œ ì›ë…¸í˜•ë¡œ 37" }
]

const Theater = ({ userInfo }) => {
    const [myAddress, setMyAddress] = useState(null);
    const [activeRegion, setActiveRegion] = useState('ì„œìš¸');
    const [activeTheater, setActiveTheater] = useState(theaters[0]);
    const [activeInfo, setActiveInfo] = useState("");
    const { isModalOpen, isModalVisible, openModal, closeModal } = useModal();

    // ì‚¬ìš©ìì˜ ì£¼ì†Œ ì •ë³´ê°€ ìˆìœ¼ë©´ ê·¸ ì£¼ì†Œë¥¼ ì„¸íŒ…
    useEffect(() => {
        if (userInfo && userInfo.address) {
            setMyAddress(userInfo.address);
        }
    }, [userInfo]);

    // ì˜í™”ê´€ ì§€ì—­ì— ë”°ë¼ ë¶„ë¥˜
    const filteredTheaters = theaters.filter((theater) => {
        return (activeRegion === theater.region);
    });


const InfoButton = ({ text = "" }) => {
    const getInfoType = (text) => {
        if (text.includes('êµí†µì•ˆë‚´')) return 'êµí†µì•ˆë‚´';
        if (text.includes('ì£¼ì°¨ì•ˆë‚´')) return 'ì£¼ì°¨ì•ˆë‚´';
        if (text.includes('ìƒì˜ì‹œê°„í‘œ')) return 'ìƒì˜ì‹œê°„í‘œ';
        return '';
    };
    
    return <Button
        textAlign="center" alignContent="center"
        fontSize="xl" color="black"
        width="80%" height="60px"
        backgroundColor="white"
        border="1px solid #e2e8f0" borderRadius="md"
        _hover={{ borderColor: "#6E4AC2" }}
        onClick={() => {
            setActiveInfo(getInfoType(text));
            openModal();
        }}
    >
        <Text>{text}</Text>
    </Button>
}

    return (
        <Box maxW="1200px" mx="auto" pt={{ base: 10, md: 20 }} px={{ base: 4 }} pb={10}>
            {/* ìƒë‹¨ ë¡œê³  */}
            <h1
                style={{
                    fontSize: "24px",
                    fontWeight: "normal",
                    color: "#222",
                    borderBottom: "2px solid #ccc",
                    paddingBottom: "12px",
                    marginBottom: "40px",
                    display: "flex",
                    alignItems: "center",
                    justifyContent: "center",
                    gap: "12px",
                }}
            >
                <img
                    src={`${process.env.NEXT_PUBLIC_SPRING_SERVER_URL}/images/logo.png`}
                    alt="logo"
                    style={{ width: "141px", height: "68px", objectFit: "contain" }}
                />
            </h1>
            <Flex justifyContent="space-between">
                <Box w="50%">
                    <NaverMap
                        myAddress={myAddress}
                        activeAddress={activeTheater ? activeTheater.address : null}
                    />
                </Box>
                {activeTheater && (
                    <Flex w="50%" flexDirection="column" textAlign="center" alignItems='center' gap="3%">
                        <Text fontSize="3xl">{activeTheater.name}</Text>
                        <Text fontSize="md">{activeTheater.address}</Text>
                        <InfoButton text="ğŸšŒ êµí†µì•ˆë‚´" />
                        <InfoButton text="ğŸš— ì£¼ì°¨ì•ˆë‚´" />
                        <InfoButton text="ğŸ¥ ìƒì˜ì‹œê°„í‘œ" />
                    </Flex>
                )}
            </Flex>
            {/* ì§€ì—­ ì¹´í…Œê³ ë¦¬ */}
            <Flex gap={2} borderBottom="1px solid #6B46C1" flexWrap="wrap" pt={5} mb={5}>
                {regions.map((region) => (
                    <Button
                        key={region}
                        variant="ghost"
                        borderBottom={
                            activeRegion === region
                                ? "3px solid #6B46C1"
                                : "2px solid transparent"
                        }
                        borderRadius="0"
                        fontWeight={activeRegion === region ? "bold" : "normal"}
                        color={activeRegion === region ? "#6B46C1" : "black"}
                        onClick={() => setActiveRegion(region)}
                        _hover={{ bg: "transparent", color: "#6B46C1" }}
                        fontSize="lg"
                        py={4}
                        px={6}
                        minW="120px"
                        h="50px"
                    >
                        {region}
                    </Button>
                ))}
            </Flex>
            {/* ì˜í™”ê´€ ëª©ë¡ */}
            <Flex gap={6}>
                {filteredTheaters.map((theater, index) => {
                    return <Button
                        key={index} textAlign="center" alignContent="center"
                        fontSize="md" color="black"
                        width="15%" height="60px"
                        backgroundColor={(activeTheater && activeTheater.name === theater.name) ? "#e2e8f0" : "white"}
                        border="1px solid #e2e8f0" borderRadius="md"
                        _hover={{ backgroundColor: "#e2e8f0" }}
                        onClick={() => { setActiveTheater(theater); }}
                    >
                        <Text>{theater.name}</Text>
                    </Button>
                })}
            </Flex>
            {isModalOpen && (<Modal
                isModalOpen={isModalOpen}
                isModalVisible={isModalVisible}
                closeModal={closeModal}
                title={activeInfo}
                content={
                    activeInfo === "êµí†µì•ˆë‚´" ? <Flex flexDirection="column" gap={6} style={{ whiteSpace: 'pre-wrap' }}>
                        {activeTheater.subway && (
                            <>
                                <Text
                                    fontSize="xl"
                                    fontWeight="bold"
                                    pl={2}
                                    borderLeft="4px solid #6B46C1"
                                >
                                    ì§€í•˜ì² 
                                </Text>
                                {activeTheater.subway}
                            </>
                        )}
                        {activeTheater.bus && (
                            <>
                                <Text
                                    fontSize="xl"
                                    fontWeight="bold"
                                    pl={2}
                                    borderLeft="4px solid #6B46C1"
                                >
                                    ë²„ìŠ¤
                                </Text>
                                {activeTheater.bus}
                            </>
                        )}
                    </Flex>
                    : activeInfo === "ì£¼ì°¨ì•ˆë‚´" ? <Flex flexDirection="column" gap={6} style={{ whiteSpace: 'pre-wrap' }}>
                        {activeTheater.parkGuide && (
                            <>
                                <Text
                                    fontSize="xl"
                                    fontWeight="bold"
                                    pl={2}
                                    borderLeft="4px solid #6B46C1"
                                >
                                    ì£¼ì°¨ì•ˆë‚´
                                </Text>
                                {activeTheater.parkGuide}
                            </>
                        )}
                        {activeTheater.parkCheck && (
                            <>
                                <Text
                                    fontSize="xl"
                                    fontWeight="bold"
                                    pl={2}
                                    borderLeft="4px solid #6B46C1"
                                >
                                    ì£¼ì°¨í™•ì¸
                                </Text>
                                {activeTheater.parkCheck}
                            </>
                        )}
                        {activeTheater.parkFee && (
                            <>
                                <Text
                                    fontSize="xl"
                                    fontWeight="bold"
                                    pl={2}
                                    borderLeft="4px solid #6B46C1"
                                >
                                    ì£¼ì°¨ìš”ê¸ˆ
                                </Text>
                                {activeTheater.parkFee}
                            </>
                        )}
                    <br/>
                    </Flex>
                    : activeInfo === "ìƒì˜ì‹œê°„í‘œ" ? <Box>

                    </Box>
                    : <Text>activeInfo error : {activeInfo}</Text>
                } />)}

        </Box>
    );
}

export default Theater;